let searchUrl="https://api.worldweatheronline.com/premium/v1/search.ashx?leng=en&format=json&key=45075ea5a0634356a83155447181401&q=",weatherUrl="https://api.worldweatheronline.com/premium/v1/weather.ashx?leng=en&key=45075ea5a0634356a83155447181401&format=json&q=",chouseCity={},cities=[],weatherInfo=document.querySelector("#weahert_info"),buttonInput=document.querySelector("input#search"),suggestions=document.querySelector(".suggestions"),inputSearch=document.querySelector('input[type="text"]'),date=document.querySelector('input[type="date"]'),today=document.querySelector("input#today"),tomorrow=document.querySelector("input#tomorrow"),dateShow=document.querySelector("#chosen_date p"),tempC=document.querySelector(".info_short h1"),city=document.querySelector(".info_short h3"),feels=document.querySelector("#feels"),wind=document.querySelector("#wind"),humidity=document.querySelector("#humidity"),pressure=document.querySelector("#pressure"),img=document.querySelector(".info_img img");function setData(e){if("string"==typeof e){let t=new Date;"tomorrow"===e.toLocaleLowerCase&&t.setDate(t.getDate()+1);dateShow.innerHTML=`${t.getDate()}.${0===t.getMonth()?t.getMonth()+1:t.getMonth()}.${t.getFullYear()}`;dateShow.classList.toggle("hiden")}}function getWeather(e){setData(e),void 0!==chouseCity.latitude?fetch(weatherUrl+`${chouseCity.latitude}, ${chouseCity.longitude}&data=${e}`).then(e=>e.json()).then(weatherResult):alert("Don`t chouse city")}function weatherResult(e){tempC.innerHTML=`${e.data.current_condition[0].temp_C}C`,city.innerHTML=`${chouseCity.areaName[0].value} | ${e.data.current_condition[0].weatherDesc[0].value}`,img.src=e.data.current_condition[0].weatherIconUrl[0].value,feels.innerHTML=`${e.data.current_condition[0].FeelsLikeC}C`,wind.innerHTML=`${e.data.current_condition[0].winddir16Point} | ${e.data.current_condition[0].windspeedKmph} km/hr`,humidity.innerHTML=e.data.current_condition[0].humidity,pressure.innerHTML=e.data.current_condition[0].pressure,weatherInfo.classList.toggle("hiden")}function searchLocation(){fetch(searchUrl+inputSearch.value).then(e=>e.json()).then(e=>{e.data?console.log(e.data.error[0].msg):(cities.push(...e.search_api.result),displayRes())})}function displayRes(){const e=cities.map((e,t)=>`\n                <li>\n                    <span class="name" data-id=${t}>${e.areaName[0].value}, ${e.country[0].value}</span>\n                    <span class="population">${e.population}</span>\n                </li>\n                `).join("");suggestions.innerHTML=e,addClick()}function addClick(){let e=document.querySelectorAll("li");for(let t=0;t<cities.length;t++)e[t].addEventListener("click",clickLi)}function clickLi(e){chouseCity=cities[e.target.dataset.id],suggestions.innerHTML=" ",inputSearch.value=chouseCity.areaName[0].value}buttonInput.addEventListener("click",searchLocation),inputSearch.addEventListener("click",e=>{suggestions.innerHTML=" ",e.target.value=""}),date.addEventListener("change",function(e){console.log(e.target.value),getWeather(e.target.value)}),today.addEventListener("click",e=>getWeather(e.target.value)),tomorrow.addEventListener("click",e=>getWeather(e.target.value));